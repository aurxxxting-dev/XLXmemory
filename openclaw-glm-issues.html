<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenClaw GLM æ¨¡å‹é…ç½®é—®é¢˜æ±‡æ€»</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            line-height: 1.8;
            padding: 40px 20px;
        }
        .container { max-width: 900px; margin: 0 auto; }
        header {
            text-align: center;
            margin-bottom: 50px;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            border: 1px solid rgba(233, 69, 96, 0.3);
        }
        h1 {
            font-size: 2rem;
            background: linear-gradient(90deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .subtitle { color: #888; }
        .section {
            background: rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 25px;
            border-left: 4px solid #e94560;
        }
        h2 {
            color: #fff;
            font-size: 1.4rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        h2::before { content: "â–¸"; color: #e94560; }
        h3 {
            color: #ff6b6b;
            font-size: 1.1rem;
            margin: 20px 0 15px;
        }
        .error-box {
            background: rgba(233, 69, 96, 0.1);
            border: 1px solid rgba(233, 69, 96, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            color: #ff6b6b;
        }
        .solution-box {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .solution-box h4 {
            color: #4caf50;
            margin-bottom: 10px;
        }
        code {
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #ffd700;
        }
        pre {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 10px 0;
        }
        pre code {
            background: none;
            padding: 0;
        }
        ul { list-style: none; padding-left: 0; }
        li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            color: #b0b0b0;
        }
        li::before {
            content: "â€¢";
            color: #e94560;
            position: absolute;
            left: 0;
        }
        .highlight { color: #ffd700; font-weight: 600; }
        .warning {
            background: rgba(255, 152, 0, 0.1);
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: #666;
            font-size: 0.85rem;
        }
        @media (max-width: 600px) {
            h1 { font-size: 1.5rem; }
            .section { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>OpenClaw GLM æ¨¡å‹é…ç½®é—®é¢˜æ±‡æ€»</h1>
            <p class="subtitle">æ™ºè°± AI GLM æ¨¡å‹åœ¨ OpenClaw ä¸­çš„å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</p>
        </header>

        <div class="section">
            <h2>é—®é¢˜èƒŒæ™¯</h2>
            <p>åœ¨ä½¿ç”¨ OpenClaw é…ç½®æ™ºè°± AI (Zhipu) çš„ GLM æ¨¡å‹æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ° <span class="highlight">"Unknown model"</span> é”™è¯¯ã€‚è¿™ä¸»è¦æ˜¯ç”±äºæ¨¡å‹åç§°æ ¼å¼ä¸ç»Ÿä¸€ã€é…ç½®ç¼“å­˜é—®é¢˜ä»¥åŠç½‘å…³é‡å¯æœºåˆ¶å¯¼è‡´çš„ã€‚</p>
        </div>

        <div class="section">
            <h2>å¸¸è§é—®é¢˜ 1ï¼šæ¨¡å‹åç§°å‰ç¼€æ··ä¹±</h2>
            
            <h3>é”™è¯¯ç°è±¡</h3>
            <div class="error-box">
                âš ï¸ Agent failed before reply: Unknown model: zhipu/glm-4-flash
            </div>
            
            <h3>é—®é¢˜åŸå› </h3>
            <p>OpenClaw çš„æ¨¡å‹é…ç½®å­˜åœ¨ä¸¤ç§å†™æ³•ï¼Œå®¹æ˜“å¯¼è‡´æ··æ·†ï¼š</p>
            <ul>
                <li><code>glm-4-flash</code> â€” ç®€æ´æ ¼å¼ï¼ˆæ¨èï¼‰</li>
                <li><code>zhipu/glm-4-flash</code> â€” å¸¦ provider å‰ç¼€</li>
            </ul>
            
            <div class="warning">
                <strong>æ³¨æ„ï¼š</strong>ä¸åŒç‰ˆæœ¬çš„ OpenClaw å¯¹è¿™ä¸¤ç§æ ¼å¼çš„æ”¯æŒä¸ä¸€è‡´ï¼Œæ··åˆä½¿ç”¨ä¼šå¯¼è‡´é”™è¯¯ã€‚
            </div>

            <div class="solution-box">
                <h4>âœ… è§£å†³æ–¹æ¡ˆ</h4>
                <p>ç»Ÿä¸€ä½¿ç”¨ç®€æ´æ ¼å¼ï¼Œå¹¶åœ¨ models ä¸­æ­£ç¡®å£°æ˜ï¼š</p>
                <pre><code>{
  "agents": {
    "defaults": {
      "model": {
        "primary": "glm-4-flash"
      },
      "models": {
        "glm-4-flash": {
          "alias": "GLM-4-Flash"
        },
        "glm-4-plus": {
          "alias": "GLM-4-Plus"
        }
      }
    }
  }
}</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>å¸¸è§é—®é¢˜ 2ï¼šSession ç¼“å­˜å¯¼è‡´åˆ‡æ¢å¤±è´¥</h2>
            
            <h3>é”™è¯¯ç°è±¡</h3>
            <div class="error-box">
                ä¿®æ”¹é…ç½®ä¸º glm-4-flash åï¼Œé£ä¹¦å¯¹è¯ä»ç„¶æŠ¥é”™ï¼šUnknown model: zhipu/glm-4-flash
            </div>
            
            <h3>é—®é¢˜åŸå› </h3>
            <p>OpenClaw çš„ session æœºåˆ¶ä¼šç¼“å­˜æ¨¡å‹é…ç½®ã€‚å½“é£ä¹¦ channel å·²ç»å»ºç«‹äº†ä½¿ç”¨ Kimi çš„ session åï¼Œå³ä½¿ä¿®æ”¹é…ç½®ä¸º GLMï¼Œå·²å­˜åœ¨çš„ session ä»ä¼šç»§ç»­ä½¿ç”¨æ—§çš„ Kimi æ¨¡å‹ã€‚</p>

            <div class="solution-box">
                <h4>âœ… è§£å†³æ–¹æ¡ˆ</h4>
                <p>éœ€è¦å½»åº•é‡å¯ç½‘å…³ï¼Œæ–­å¼€æ‰€æœ‰è¿æ¥ï¼š</p>
                <ol style="color: #b0b0b0; padding-left: 20px;">
                    <li style="padding-left: 10px;">åœæ­¢ç½‘å…³ï¼š<code>openclaw gateway stop</code></li>
                    <li style="padding-left: 10px;">ç­‰å¾…å‡ ç§’ç¡®ä¿è¿›ç¨‹å®Œå…¨é€€å‡º</li>
                    <li style="padding-left: 10px;">å¯åŠ¨ç½‘å…³ï¼š<code>openclaw gateway start</code></li>
                </ol>
                <p style="margin-top: 15px;">æˆ–è€…ä½¿ç”¨ä¸€é”®è„šæœ¬ï¼š</p>
                <pre><code>taskkill /F /IM "node.exe"
openclaw gateway start</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>å¸¸è§é—®é¢˜ 3ï¼šé…ç½®éªŒè¯å¤±è´¥</h2>
            
            <h3>é”™è¯¯ç°è±¡</h3>
            <div class="error-box">
                Invalid config at openclaw.json:<br>
                - agents.defaults.models.glm-4-flash: Unrecognized key: "provider"
            </div>
            
            <h3>é—®é¢˜åŸå› </h3>
            <p>åœ¨ models é…ç½®ä¸­é”™è¯¯åœ°æ·»åŠ äº† <code>"provider": "zhipu"</code> å­—æ®µï¼Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚provider åº”è¯¥åœ¨ auth.profiles ä¸­å£°æ˜ã€‚</p>

            <div class="solution-box">
                <h4>âœ… æ­£ç¡®é…ç½®</h4>
                <pre><code>{
  "auth": {
    "profiles": {
      "glm:default": {
        "provider": "zhipu",
        "mode": "api_key"
      }
    }
  },
  "agents": {
    "defaults": {
      "models": {
        "glm-4-flash": {
          "alias": "GLM-4-Flash"
          // âŒ ä¸è¦åœ¨è¿™é‡ŒåŠ  provider
        }
      }
    }
  }
}</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>å¸¸è§é—®é¢˜ 4ï¼šé…ç½®è¢«è‡ªåŠ¨é‡ç½®</h2>
            
            <h3>é”™è¯¯ç°è±¡</h3>
            <div class="error-box">
                è¿è¡Œ openclaw doctor --fix åï¼Œé…ç½®è¢«è‡ªåŠ¨ä¿®æ”¹ï¼Œprimary æ¨¡å‹åˆå˜å› Kimi
            </div>
            
            <h3>é—®é¢˜åŸå› </h3>
            <p>doctor å‘½ä»¤ä¼šå°è¯•"ä¿®å¤"é…ç½®ï¼Œæœ‰æ—¶ä¼šè¦†ç›–ç”¨æˆ·çš„æ‰‹åŠ¨ä¿®æ”¹ã€‚</p>

            <div class="solution-box">
                <h4>âœ… è§£å†³æ–¹æ¡ˆ</h4>
                <ul>
                    <li>ä¿®æ”¹é…ç½®åï¼Œå¤‡ä»½ openclaw.json</li>
                    <li>é¿å…é¢‘ç¹ä½¿ç”¨ <code>doctor --fix</code></li>
                    <li>æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ—¶ï¼Œä½¿ç”¨ <code>openclaw config patch</code> è€Œéç›´æ¥ä¿®æ”¹æ–‡ä»¶</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>æœ€ä½³å®è·µå»ºè®®</h2>
            
            <h3>1. å•ä¸€æ¨¡å‹ç­–ç•¥</h3>
            <p>å¦‚æœé¢‘ç¹é‡åˆ°æ¨¡å‹åˆ‡æ¢é—®é¢˜ï¼Œå»ºè®®åªé…ç½®ä¸€ä¸ªä¸»åŠ›æ¨¡å‹ï¼ˆå¦‚ Kimiï¼‰ï¼Œå½»åº•åˆ é™¤å…¶ä»–æ¨¡å‹é…ç½®ï¼Œé¿å…å†²çªã€‚</p>

            <h3>2. é…ç½®éªŒè¯</h3>
            <p>ä¿®æ”¹é…ç½®åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š</p>
            <pre><code>openclaw config validate</code></pre>

            <h3>3. å¿«é€Ÿæ¢å¤è„šæœ¬</h3>
            <p>åœ¨æ¡Œé¢åˆ›å»ºé‡å¯è„šæœ¬ï¼Œå‡ºç°é—®é¢˜æ—¶å¿«é€Ÿæ¢å¤ï¼š</p>
            <pre><code>@echo off
echo é‡å¯ OpenClaw ç½‘å…³...
openclaw gateway restart
echo å®Œæˆï¼
pause</code></pre>

            <h3>4. ç›‘æ§å‘Šè­¦</h3>
            <p>è®¾ç½® HEARTBEAT.md å®šæœŸæ£€æŸ¥ï¼š</p>
            <pre><code># HEARTBEAT.md
## æ¯å°æ—¶æ£€æŸ¥
- [ ] æ£€æŸ¥ç½‘å…³çŠ¶æ€: openclaw gateway status
- [ ] æ£€æŸ¥æ¨¡å‹é…ç½®
- [ ] å¦‚æœ‰å¼‚å¸¸ï¼Œå‘é€æé†’</code></pre>
        </div>

        <div class="section">
            <h2>æ›¿ä»£æ–¹æ¡ˆ</h2>
            <p>å¦‚æœ GLM é…ç½®é—®é¢˜æŒç»­æ— æ³•è§£å†³ï¼Œå¯ä»¥è€ƒè™‘ï¼š</p>
            <ul>
                <li><span class="highlight">ä½¿ç”¨ Kimi æ›¿ä»£</span> â€” é…ç½®ç®€å•ï¼Œç¨³å®šæ€§å¥½</li>
                <li><span class="highlight">ä½¿ç”¨ OpenAI/Anthropic</span> â€” å›½é™…å¤§æ¨¡å‹ï¼Œç”Ÿæ€æˆç†Ÿ</li>
                <li><span class="highlight">æœ¬åœ°æ¨¡å‹</span> â€” å¦‚ Ollama + Llamaï¼Œæ— éœ€ API Key</li>
            </ul>
        </div>

        <div class="section">
            <h2>å‚è€ƒèµ„æº</h2>
            <ul>
                <li>OpenClaw å®˜æ–¹æ–‡æ¡£: <a href="https://docs.openclaw.ai" target="_blank">docs.openclaw.ai</a></li>
                <li>æ™ºè°± AI å¼€å‘è€…å¹³å°: <a href="https://open.bigmodel.cn/" target="_blank">open.bigmodel.cn</a></li>
                <li>GitHub Issues: <a href="https://github.com/openclaw/openclaw/issues" target="_blank">github.com/openclaw/openclaw</a></li>
            </ul>
        </div>

        <footer>
            <p>ğŸ¾ ç”±å°çˆªæ•´ç†ç”Ÿæˆ Â· åŸºäºå®é™…ä½¿ç”¨ç»éªŒ</p>
            <p>ç”Ÿæˆæ—¶é—´ï¼š2026å¹´2æœˆ11æ—¥</p>
        </footer>
    </div>
</body>
</html>
